## useQuery 주요 옵션

### staleTime과 gcTime

### staleTime이란?

stale은 썩은 이라는 뜻,

stale: (number | Infinity)

- staleTime은 데이터가 fresh에서 stale 상태로 변경되는데 걸리는 시간, 만약 staleTime이 3000이면 fresh 상태에서 3초 뒤어 stale로 변경

gcTime: (number | Infinity)

- 데이터가 사용하지 않거나, 캐싱 된 상태로 남아있는 시간이다.
- gcTime이 다 지나면 가비지 콜렉터로 수집된다.
- gcTime의 기본값은 5분이다. SSR환경에서는 Infinity이다.

📌 주의할 점
staleTime과 gcTime의 기본값은 각각 0분과 5분이다. 따라서 staleTime에 어떠한 설정도 하지 않으면 해당 쿼리를 사용하는 컴포넌트가 mount 됐을때 매번 다시 api를 요청한다.

### refetchOnMount

```
const {
    data,
} = useQuery({
    queryKey: ["super-heroes"],
    queryFn: getAllSuperHero,
    refetchOnMount: true,
});
```

- refetchOnMount: boolean | "always" | ((query: Query) => boolean | "always")
- refetchOnMount는 데이터가 stale상태일 경우, mount마다 refetch를 실행하는 옵션이다.
- refetchOnMount는 데이터가 stale상태일 경우, mount마다 refetch를 실행하는 옵션이다.
- 기본값은 true이다.

---

### enabled refetch

```
const {
  data,
  refetch,
  // ...
} = useQuery({
  queryKey: ["super-heroes"],
  queryFn: getAllSuperHero,
  enabled: false,
});
```
